(function(t){function e(e){for(var i,o,s=e[0],c=e[1],u=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(i=!1)}i&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={index:0},r=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"0563":function(t,e,n){"use strict";n("b097")},1906:function(t,e,n){},2272:function(t,e,n){},3032:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("b5c2"),n("450d");var i,a=n("20cf"),r=n.n(a),o=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("b0c0"),n("2b0e")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],u={name:"App"},l=u,d=(n("034f"),n("2877")),f=Object(d["a"])(l,s,c,!1,null,null,null),m=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"playBtn-wrapper"},on:{click:t.goPlay}},[n("div",{staticClass:"iconfont icon-zhuanji"})])},h=[],g={name:"PlayBtn",methods:{goPlay:function(){""!=this.$store.state.songUrl?this.$router.push("/play"):alert("当前未播放音乐！")}}},b=g,v=(n("70ab"),Object(d["a"])(b,p,h,!1,null,null,null)),y=v.exports,L=(n("ac1f"),n("8c4f")),w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home-wrapper"}},[n("Header"),n("div",{attrs:{id:"btn-wrapper"}},t._l(t.btnList,(function(t,e){return n("MenuBtn",{key:e,attrs:{btn:t}})})),1),n("Footer"),n("PlayBtn")],1)},_=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"header"}},[n("div",{attrs:{id:"title"}},[t._v("SKLZ")]),n("div",{attrs:{id:"search"}},[n("span",{staticClass:"iconfont icon-sousuo",on:{click:t.goSearch}})])])},T=[],k={name:"Header",methods:{goSearch:function(){this.$router.push("/search")}}},O=k,S=(n("87e5"),Object(d["a"])(O,x,T,!1,null,"36f9bad9",null)),C=S.exports,j=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"footer"}},[n("span",{staticClass:"footer-text"},[t._v("一切解释权归开健所有")])])}],M={name:"Footer"},$=M,E=(n("d1be"),Object(d["a"])($,j,I,!1,null,"1da4ed83",null)),P=E.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"btn-container"}},[n("div",{attrs:{id:"btn-img"}},[n("span",{staticClass:"iconfont",class:t.btn.imgUrl})]),n("div",{attrs:{id:"btn-name"}},[t._v(t._s(t.btn.name))])])},A=[],R={name:"MenuBtn",props:["btn"]},B=R,G=(n("593b"),Object(d["a"])(B,U,A,!1,null,"ff1b394c",null)),N=G.exports,D={name:"Home",components:{Header:C,Footer:P,MenuBtn:N},data:function(){return{btnList:[{name:"歌单",imgUrl:"icon-yinle1"},{name:"收藏",imgUrl:"icon-shoucang"},{name:"下载",imgUrl:"icon-xiazai"},{name:"设置",imgUrl:"icon-shezhi-xianxing"},{name:"打赏",imgUrl:"icon-dashang"},{name:"关于",imgUrl:"icon-guanyu"}]}}},z=D,H=(n("7fbe"),Object(d["a"])(z,w,_,!1,null,null,null)),q=H.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"play-wrapper"}},[n("transition",{attrs:{name:"play",appear:""}},[n("div",[n("div",{attrs:{id:"song-header"}},[n("div",{staticClass:"iconfont icon-jiantou_xiangzuo",attrs:{id:"back"},on:{click:t.backSearch}})]),n("div",{attrs:{id:"song-data"}},[n("span",{attrs:{id:"song"}},[t._v(t._s(t.musicList[t.index].name))]),n("div",{attrs:{id:"singer"}},t._l(t.musicList[t.index].artists,(function(e,i){return n("span",{key:i},[t._v(t._s(e.name)+" ")])})),0)]),n("div",{attrs:{id:"song-img"}},[n("img",{attrs:{src:t.albumList[t.index].blurPicUrl,alt:""}})]),n("audio",{ref:"audio",attrs:{type:"audio/ogg",src:"https://music.163.com/song/media/outer/url?id="+t.musicList[t.index].id},on:{pause:t.onPause,play:t.onPlay,timeupdate:t.onTimeupdate,loadedmetadata:t.onLoadedmetadata}}),n("div",{attrs:{id:"progress-bar"}},[n("div",{attrs:{id:"bar"}},[n("el-slider",{staticClass:"slider",attrs:{"format-tooltip":t.formatProcessToolTip},on:{change:t.changeCurrentTime},model:{value:t.sliderTime,callback:function(e){t.sliderTime=e},expression:"sliderTime"}})],1),n("div",{attrs:{id:"time"}},[n("span",[t._v(t._s(t._f("formatSecond")(t.audio.currentTime)))]),n("span",[t._v(t._s(t._f("formatSecond")(t.audio.maxTime)))])])]),n("div",{staticClass:"btn"},[n("span",{staticClass:"play-btn iconfont icon-shangyishou"}),n("span",{staticClass:"play-btn iconfont",class:t.audio.playing?"icon-zanting":"icon-24gf-play",on:{click:t.playOrPause}}),n("span",{staticClass:"play-btn iconfont icon-xiayishou"})]),n("div",{staticClass:"btn1"},[n("span",{staticClass:"play-btn1 iconfont icon-liebiao"}),n("a",{staticClass:"download play-btn1 iconfont icon-xiazai1",attrs:{href:"#"}}),n("span",{staticClass:"play-btn1 iconfont icon-loop"})])])])],1)},F=[],K=n("53ca"),Z=n("ade3"),Q=n("5530"),V=(n("fb6a"),n("2f62")),W={name:"Play",data:function(){return{audio:{playing:!1,currentTime:0,maxTime:0},sliderTime:0}},computed:Object(Q["a"])({index:function(){return this.$route.query.id||this.$store.state.curMusicID}},Object(V["b"])(["albumList","musicList","songUrl"])),mounted:function(){this.$store.dispatch("getMusicDetail",this.musicList[this.index].id),this.$route.query.id&&this.$store.commit("CURMUSIC",this.$route.query.id)},methods:(i={backSearch:function(){this.$router.push("/search")},playOrPause:function(){return this.audio.playing?this.pause():this.play()},play:function(){this.$refs.audio.play()},pause:function(){this.$refs.audio.pause()},onPlay:function(){this.audio.playing=!0},onPause:function(){this.audio.playing=!1},onTimeupdate:function(t){this.audio.currentTime=t.target.currentTime},onLoadedmetadata:function(t){this.audio.maxTime=parseInt(t.target.duration)},changeCurrentTime:function(t){this.$refs.audio.currentTime=parseInt(t/100*this.audio.maxTime)}},Object(Z["a"])(i,"onTimeupdate",(function(t){this.audio.currentTime=t.target.currentTime,this.sliderTime=parseInt(this.audio.currentTime/this.audio.maxTime*100)})),Object(Z["a"])(i,"formatProcessToolTip",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t=parseInt(this.audio.maxTime/100*t),"进度条: "+X(t)})),i),filters:{formatSecond:function(t){return X(t)}}};function X(t){var e=Object(K["a"])(t);if("number"===e||"string"===e){t=parseInt(t);var n=Math.floor(t/3600);t-=3600*n;var i=Math.floor(t/60);return t-=60*i,n+":"+("0"+i).slice(-2)+":"+("0"+t).slice(-2)}return"0:00:00"}var Y=W,tt=(n("0563"),Object(d["a"])(Y,J,F,!1,null,"c2f1cbca",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"search-wrapper"}},[n("div",{attrs:{id:"search"}},[n("div",{staticClass:"iconfont icon-jiantou_xiangzuo",attrs:{id:"back"},on:{click:t.backHome}}),n("div",{attrs:{id:"inputer"}},[n("span",{staticClass:"iconfont icon-sousuo"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text",placeholder:"请输入歌曲、歌手..."},domProps:{value:t.keywords},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchMusic(t.keywords)},input:function(e){e.target.composing||(t.keywords=e.target.value)}}}),n("span",{staticClass:"iconfont icon-jinrujiantouxiao",on:{click:function(e){return t.searchMusic(t.keywords)}}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:"logList"==t.curShow,expression:"curShow == 'logList'"}],attrs:{id:"search-log"}},[n("ul",[t._l(t.logList,(function(e,i){return n("li",{key:i,on:{click:function(n){return t.searchMusic(e)}}},[n("span",[t._v(t._s(e))]),n("span",{staticClass:"iconfont icon-cuowu",on:{click:function(e){return t.deleteLog(i)}}})])})),n("li",[n("span",{attrs:{id:"clearAll"},on:{click:t.clearAll}},[t._v("清空所有记录")])])],2)]),n("div",{directives:[{name:"show",rawName:"v-show",value:"musicList"==t.curShow,expression:"curShow == 'musicList'"}],attrs:{id:"search-music"}},[n("ul",t._l(t.musicList,(function(e,i){return n("li",{key:i},[n("div",{attrs:{id:"m-img"}},[n("img",{attrs:{src:t.albumList[i].blurPicUrl||"./images/album.png",alt:""}})]),n("div",{attrs:{id:"m-data"},on:{click:function(e){return t.goPlay(i)}}},[n("div",{attrs:{id:"m-name"}},[t._v(t._s(e.name))]),n("div",{attrs:{id:"m-singer"}},t._l(e.artists,(function(e,i){return n("span",{key:i},[t._v(t._s(e.name))])})),0)]),n("div",{staticClass:"iconfont icon-gengduogongneng",attrs:{id:"m-download"}})])})),0)])])},it=[],at=(n("498a"),n("e9c4"),{name:"Search",data:function(){return{keywords:"",curShow:"logList"}},methods:{searchMusic:function(t){""!=t.trim()?(this.$store.dispatch("getMusic",t),this.$store.commit("CLEARALBUM"),this.curShow="musicList"):console.log("输入为空！")},backHome:function(){this.$router.push("/home")},deleteLog:function(t){this.$store.dispatch("deleteLog",t)},clearAll:function(){this.$store.dispatch("clearAll")},goPlay:function(t){this.$router.push({name:"play",query:{id:t}})}},computed:Object(Q["a"])({},Object(V["b"])(["logList","musicList","albumList"])),watch:{logList:{handler:function(t){localStorage.setItem("logList",JSON.stringify(t))}}}}),rt=at,ot=(n("b37a"),Object(d["a"])(rt,nt,it,!1,null,"c97f5830",null)),st=ot.exports;o["default"].use(L["a"]);var ct=L["a"].prototype.push,ut=L["a"].prototype.replace;L["a"].prototype.push=function(t,e,n){e&&n?ct.call(this,t,e,n):ct.call(this,t,(function(){}),(function(){}))},L["a"].prototype.replace=function(t,e,n){e&&n?ut.call(this,t,e,n):ut.call(this,t,(function(){}),(function(){}))};var lt=new L["a"]({routes:[{path:"/home",component:q,meta:{show:!0}},{path:"/play",component:et,meta:{show:!1},name:"play"},{path:"/search",component:st,meta:{show:!0}},{path:"*",redirect:"/home"}]}),dt=lt,ft=n("1da1"),mt=(n("96cf"),n("d3b7"),n("a434"),n("d9e2"),n("bc3a")),pt=n.n(mt),ht=n("323e"),gt=n.n(ht),bt=(n("a5d8"),pt.a.create({baseURL:"/",timeout:5e3}));bt.interceptors.request.use((function(t){return gt.a.start(),t})),bt.interceptors.response.use((function(t){return gt.a.done(),t.data}),(function(t){return Promise.reject(new Error("fail"))}));var vt=bt,yt=function(t){return vt({url:"search?keywords=".concat(t),method:"get"})},Lt=function(t){return vt({url:"album?id=".concat(t),method:"get"})},wt=function(t){return vt({url:"song/url?id=".concat(t),method:"get"})};o["default"].use(V["a"]);var _t={getMusic:function(t,e){return Object(ft["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.commit("LOGLIST",e),n.next=3,yt(e);case 3:i=n.sent,200==i.code&&(a=new Promise(function(){var e=Object(ft["a"])(regeneratorRuntime.mark((function e(n,a){var r,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=i.result.songs,o=0;case 2:if(!(o<r.length)){e.next=10;break}return e.next=5,Lt(r[o].album.id);case 5:s=e.sent,200==s.code&&t.commit("ALBUMLIST",s.album);case 7:o++,e.next=2;break;case 10:n();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),a.then((function(e){t.commit("GETMUSIC",i.result.songs)})));case 5:case"end":return n.stop()}}),n)})))()},initLogList:function(t){localStorage.getItem("logList")&&t.commit("INITLOGLIST",JSON.parse(localStorage.getItem("logList")))},deleteLog:function(t,e){t.commit("DELETELOG",e)},clearAll:function(t){t.commit("CLEARALL")},getMusicDetail:function(t,e){return Object(ft["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,wt(e);case 2:i=n.sent,-462==i.code&&t.commit("GETMUSICDETAIL",i.data);case 4:case"end":return n.stop()}}),n)})))()}},xt={GETMUSIC:function(t,e){t.musicList=e},LOGLIST:function(t,e){-1==t.logList.indexOf(e)&&t.logList.push(e)},INITLOGLIST:function(t,e){t.logList=e},DELETELOG:function(t,e){t.logList.splice(e,1)},CLEARALL:function(t){t.logList=[]},ALBUMLIST:function(t,e){t.albumList.push(e)},CLEARALBUM:function(t){t.musicList=[],t.albumList=[]},GETMUSICDETAIL:function(t,e){t.songUrl=e.url},CURMUSIC:function(t,e){t.curMusicID=e}},Tt={musicList:[],logList:JSON.parse(localStorage.getItem("logList"))||[],albumList:[],songUrl:"",curMusicID:NaN},kt={},Ot=new V["a"].Store({actions:_t,mutations:xt,state:Tt,getters:kt});o["default"].component(y.name,y),o["default"].component("el-slider",r.a),o["default"].config.productionTip=!1,new o["default"]({render:function(t){return t(m)},router:dt,store:Ot}).$mount("#app")},"593b":function(t,e,n){"use strict";n("b439")},"5c12":function(t,e,n){},"70ab":function(t,e,n){"use strict";n("a43e")},"7fbe":function(t,e,n){"use strict";n("5c12")},"85ec":function(t,e,n){},"87e5":function(t,e,n){"use strict";n("2272")},a43e:function(t,e,n){},b097:function(t,e,n){},b37a:function(t,e,n){"use strict";n("1906")},b439:function(t,e,n){},d1be:function(t,e,n){"use strict";n("3032")}});
//# sourceMappingURL=index.9ae2e6c3.js.map